<script setup>
import { computed } from "vue";
import { useUtils } from "../../composables/utils.js";
const { profile } = defineProps(["profile"]);
const { truncateAddress } = useUtils();
// const username = computed(() => {
//   return profile?.handle ? profile?.handle : truncateAddress(profile?.owner)
// })
const biography = computed(() => {
  return String(profile.biography).split("\n");
});

const date = computed(() => {
  return new Intl.DateTimeFormat("en-US", {
    year: "numeric",
    month: "short",
  }).format(new Date(profile.createdAt));
});
</script>
<!-- prettier-ignore -->
<template>
  <div class="about">
    <section v-if="profile?.biography" class="about__section">
      <h4 class="about__title">Biography</h4>
      <p class="about__paragraph">
        <template v-for="item in biography">
          <template v-if="item.length > 0">{{ item }}</template>
          <template v-else><br></template>
        </template>
      </p>
    </section>
    <ul class="about__list">
      <li class="about__list-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.4" d="M9 2C6.38 2 4.25 4.13 4.25 6.75C4.25 9.32 6.26 11.4 8.88 11.49C8.96 11.48 9.04 11.48 9.1 11.49C9.12 11.49 9.13 11.49 9.15 11.49C9.16 11.49 9.16 11.49 9.17 11.49C11.73 11.4 13.74 9.32 13.75 6.75C13.75 4.13 11.62 2 9 2Z" fill="#BDC1C6"/>
          <path d="M14.08 14.1499C11.29 12.2899 6.73996 12.2899 3.92996 14.1499C2.65996 14.9999 1.95996 16.1499 1.95996 17.3799C1.95996 18.6099 2.65996 19.7499 3.91996 20.5899C5.31996 21.5299 7.15996 21.9999 8.99996 21.9999C10.84 21.9999 12.68 21.5299 14.08 20.5899C15.34 19.7399 16.04 18.5999 16.04 17.3599C16.03 16.1299 15.34 14.9899 14.08 14.1499Z" fill="#BDC1C6"/>
          <path opacity="0.4" d="M19.9904 7.3401C20.1504 9.2801 18.7704 10.9801 16.8604 11.2101C16.8504 11.2101 16.8504 11.2101 16.8404 11.2101H16.8104C16.7504 11.2101 16.6904 11.2101 16.6404 11.2301C15.6704 11.2801 14.7804 10.9701 14.1104 10.4001C15.1404 9.4801 15.7304 8.1001 15.6104 6.6001C15.5404 5.7901 15.2604 5.0501 14.8404 4.4201C15.2204 4.2301 15.6604 4.1101 16.1104 4.0701C18.0704 3.9001 19.8204 5.3601 19.9904 7.3401Z" fill="#BDC1C6"/>
          <path d="M21.9902 16.5899C21.9102 17.5599 21.2902 18.3999 20.2502 18.9699C19.2502 19.5199 17.9902 19.7799 16.7402 19.7499C17.4602 19.0999 17.8802 18.2899 17.9602 17.4299C18.0602 16.1899 17.4702 14.9999 16.2902 14.0499C15.6202 13.5199 14.8402 13.0999 13.9902 12.7899C16.2002 12.1499 18.9802 12.5799 20.6902 13.9599C21.6102 14.6999 22.0802 15.6299 21.9902 16.5899Z" fill="#BDC1C6"/>
        </svg>
        <span>{{ profile?.following }} <span class="about__list-text">Following</span></span>
      </li>
      <li class="about__list-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.4" d="M9 2C6.38 2 4.25 4.13 4.25 6.75C4.25 9.32 6.26 11.4 8.88 11.49C8.96 11.48 9.04 11.48 9.1 11.49C9.12 11.49 9.13 11.49 9.15 11.49C9.16 11.49 9.16 11.49 9.17 11.49C11.73 11.4 13.74 9.32 13.75 6.75C13.75 4.13 11.62 2 9 2Z" fill="#BDC1C6"/>
          <path d="M14.08 14.1499C11.29 12.2899 6.73996 12.2899 3.92996 14.1499C2.65996 14.9999 1.95996 16.1499 1.95996 17.3799C1.95996 18.6099 2.65996 19.7499 3.91996 20.5899C5.31996 21.5299 7.15996 21.9999 8.99996 21.9999C10.84 21.9999 12.68 21.5299 14.08 20.5899C15.34 19.7399 16.04 18.5999 16.04 17.3599C16.03 16.1299 15.34 14.9899 14.08 14.1499Z" fill="#BDC1C6"/>
          <path opacity="0.4" d="M19.9904 7.3401C20.1504 9.2801 18.7704 10.9801 16.8604 11.2101C16.8504 11.2101 16.8504 11.2101 16.8404 11.2101H16.8104C16.7504 11.2101 16.6904 11.2101 16.6404 11.2301C15.6704 11.2801 14.7804 10.9701 14.1104 10.4001C15.1404 9.4801 15.7304 8.1001 15.6104 6.6001C15.5404 5.7901 15.2604 5.0501 14.8404 4.4201C15.2204 4.2301 15.6604 4.1101 16.1104 4.0701C18.0704 3.9001 19.8204 5.3601 19.9904 7.3401Z" fill="#BDC1C6"/>
          <path d="M21.9902 16.5899C21.9102 17.5599 21.2902 18.3999 20.2502 18.9699C19.2502 19.5199 17.9902 19.7799 16.7402 19.7499C17.4602 19.0999 17.8802 18.2899 17.9602 17.4299C18.0602 16.1899 17.4702 14.9999 16.2902 14.0499C15.6202 13.5199 14.8402 13.0999 13.9902 12.7899C16.2002 12.1499 18.9802 12.5799 20.6902 13.9599C21.6102 14.6999 22.0802 15.6299 21.9902 16.5899Z" fill="#BDC1C6"/>
        </svg>
        <span>{{ profile?.followers }} <span class="about__list-text">Followers</span></span>
      </li>
    </ul>
    <section class="about__section">
      <h4 class="about__title">Links</h4>
      <ul class="about__list">
        <li v-if="profile" class="about__list-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.9902 17.5H16.5002C19.5202 17.5 22.0002 15.03 22.0002 12C22.0002 8.98 19.5302 6.5 16.5002 6.5H14.9902" stroke="#BDC1C6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9 6.5H7.5C4.47 6.5 2 8.97 2 12C2 15.02 4.47 17.5 7.5 17.5H9" stroke="#BDC1C6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path opacity="0.4" d="M8 12H16" stroke="#BDC1C6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>@{{ profile?.handle ? profile?.handle : truncateAddress(profile?.owner) }}</span>
        </li>
        <li v-if="profile.links.twitter" class="about__list-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22.46 6C21.69 6.35 20.86 6.58 20 6.69C20.88 6.16 21.56 5.32 21.88 4.31C21.05 4.81 20.13 5.16 19.16 5.36C18.37 4.5 17.26 4 16 4C13.65 4 11.73 5.92 11.73 8.29C11.73 8.63 11.77 8.96 11.84 9.27C8.28004 9.09 5.11004 7.38 3.00004 4.79C2.63004 5.42 2.42004 6.16 2.42004 6.94C2.42004 8.43 3.17004 9.75 4.33004 10.5C3.62004 10.5 2.96004 10.3 2.38004 10V10.03C2.38004 12.11 3.86004 13.85 5.82004 14.24C5.19077 14.4122 4.53013 14.4362 3.89004 14.31C4.16165 15.1625 4.69358 15.9084 5.41106 16.4429C6.12854 16.9775 6.99549 17.2737 7.89004 17.29C6.37367 18.4904 4.49404 19.1393 2.56004 19.13C2.22004 19.13 1.88004 19.11 1.54004 19.07C3.44004 20.29 5.70004 21 8.12004 21C16 21 20.33 14.46 20.33 8.79C20.33 8.6 20.33 8.42 20.32 8.23C21.16 7.63 21.88 6.87 22.46 6Z" fill="#BDC1C6"/>
          </svg>
          <span>{{ profile.links.twitter }}</span>
        </li>
        <li v-if="profile.links.twitch" class="about__list-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M5.03976 2H20.4998C21.0498 2 21.4998 2.45 21.4998 3V13.59C21.4998 13.86 21.3898 14.11 21.2098 14.3L16.7998 18.71C16.6098 18.9 16.3598 19 16.0898 19H12.0398C11.7098 19 11.3898 19.17 11.2098 19.45L9.79977 21.56C9.60977 21.84 9.29977 22.01 8.96977 22.01H7.50977C6.95977 22.01 6.50977 21.56 6.50977 21.01V20.01C6.50977 19.46 6.05977 19.01 5.50977 19.01H3.50977C2.95977 19.01 2.50977 18.56 2.50977 18.01V5.31C2.50977 5.11 2.56976 4.91999 2.67976 4.75999L4.21977 2.46001C4.38977 2.17001 4.69976 2 5.03976 2Z" fill="#BDC1C6"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M8.5 7.14006V12.8501C8.5 13.1701 8.76001 13.4201 9.07001 13.4201H10.21C10.53 13.4201 10.78 13.1601 10.78 12.8501V7.14006C10.78 6.82006 10.52 6.57007 10.21 6.57007H9.07001C8.76001 6.57007 8.5 6.83006 8.5 7.14006Z" fill="#BDC1C6"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.21 7.14006V12.8501C14.21 13.1701 14.47 13.4201 14.78 13.4201H15.92C16.24 13.4201 16.49 13.1601 16.49 12.8501V7.14006C16.49 6.82006 16.23 6.57007 15.92 6.57007H14.78C14.47 6.57007 14.21 6.83006 14.21 7.14006Z" fill="#BDC1C6"/>
          </svg>
          <span>{{ profile.links.twitch }}</span>
        </li>
        <li v-if="profile.links.youtube" class="about__list-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path opacity="0.4" d="M17 20H7C4 20 2 18 2 15V9C2 6 4 4 7 4H17C20 4 22 6 22 9V15C22 18 20 20 17 20Z" fill="#BDC1C6"/>
            <path d="M11.4196 9.49009L13.8896 10.9701C14.8296 11.5401 14.8296 12.4601 13.8896 13.0301L11.4196 14.5101C10.4196 15.1101 9.59961 14.6501 9.59961 13.4801V10.5101C9.59961 9.3501 10.4196 8.89009 11.4196 9.49009Z" fill="#BDC1C6"/>
          </svg>
          <span>{{ profile.links.youtube }}</span>
        </li>
      </ul>
    </section>
    <ul class="about__details">
      <li v-if="profile.hasSubscription" class="about__details-item">
        <svg class="profile__badge" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10.7499 2.45007C11.4399 1.86007 12.5699 1.86007 13.2699 2.45007L14.8499 3.81007C15.1499 4.07007 15.7099 4.28007 16.1099 4.28007H17.8099C18.8699 4.28007 19.7399 5.15007 19.7399 6.21007V7.91007C19.7399 8.30007 19.9499 8.87007 20.2099 9.17007L21.5699 10.7501C22.1599 11.4401 22.1599 12.5701 21.5699 13.2701L20.2099 14.8501C19.9499 15.1501 19.7399 15.7101 19.7399 16.1101V17.8101C19.7399 18.8701 18.8699 19.7401 17.8099 19.7401H16.1099C15.7199 19.7401 15.1499 19.9501 14.8499 20.2101L13.2699 21.5701C12.5799 22.1601 11.4499 22.1601 10.7499 21.5701L9.16988 20.2101C8.86988 19.9501 8.30988 19.7401 7.90988 19.7401H6.17988C5.11988 19.7401 4.24988 18.8701 4.24988 17.8101V16.1001C4.24988 15.7101 4.03988 15.1501 3.78988 14.8501L2.43988 13.2601C1.85988 12.5701 1.85988 11.4501 2.43988 10.7601L3.78988 9.17007C4.03988 8.87007 4.24988 8.31007 4.24988 7.92007V6.20007C4.24988 5.14007 5.11988 4.27007 6.17988 4.27007H7.90988C8.29988 4.27007 8.86988 4.06007 9.16988 3.80007L10.7499 2.45007Z" fill="#6B6BFF"/>
          <path d="M10.7499 2.45007C11.4399 1.86007 12.5699 1.86007 13.2699 2.45007L14.8499 3.81007C15.1499 4.07007 15.7099 4.28007 16.1099 4.28007H17.8099C18.8699 4.28007 19.7399 5.15007 19.7399 6.21007V7.91007C19.7399 8.30007 19.9499 8.87007 20.2099 9.17007L21.5699 10.7501C22.1599 11.4401 22.1599 12.5701 21.5699 13.2701L20.2099 14.8501C19.9499 15.1501 19.7399 15.7101 19.7399 16.1101V17.8101C19.7399 18.8701 18.8699 19.7401 17.8099 19.7401H16.1099C15.7199 19.7401 15.1499 19.9501 14.8499 20.2101L13.2699 21.5701C12.5799 22.1601 11.4499 22.1601 10.7499 21.5701L9.16988 20.2101C8.86988 19.9501 8.30988 19.7401 7.90988 19.7401H6.17988C5.11988 19.7401 4.24988 18.8701 4.24988 17.8101V16.1001C4.24988 15.7101 4.03988 15.1501 3.78988 14.8501L2.43988 13.2601C1.85988 12.5701 1.85988 11.4501 2.43988 10.7601L3.78988 9.17007C4.03988 8.87007 4.24988 8.31007 4.24988 7.92007V6.20007C4.24988 5.14007 5.11988 4.27007 6.17988 4.27007H7.90988C8.29988 4.27007 8.86988 4.06007 9.16988 3.80007L10.7499 2.45007Z" fill="#6B6BFF"/>
          <path d="M10.7901 15.17C10.5901 15.17 10.4001 15.09 10.2601 14.95L7.84006 12.53C7.55006 12.24 7.55006 11.76 7.84006 11.47C8.13006 11.18 8.61006 11.18 8.90006 11.47L10.7901 13.36L15.0901 9.06003C15.3801 8.77003 15.8601 8.77003 16.1501 9.06003C16.4401 9.35003 16.4401 9.83003 16.1501 10.12L11.3201 14.95C11.1801 15.09 10.9901 15.17 10.7901 15.17Z" fill="#C5CEDD"/>
        </svg>
        <span>Premium profile</span>
      </li>
      <li v-else class="about__details-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.4" d="M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z" fill="#BDC1C6"/>
          <path d="M17.08 14.1499C14.29 12.2899 9.73996 12.2899 6.92996 14.1499C5.65996 14.9999 4.95996 16.1499 4.95996 17.3799C4.95996 18.6099 5.65996 19.7499 6.91996 20.5899C8.31996 21.5299 10.16 21.9999 12 21.9999C13.84 21.9999 15.68 21.5299 17.08 20.5899C18.34 19.7399 19.04 18.5999 19.04 17.3599C19.03 16.1299 18.34 14.9899 17.08 14.1499Z" fill="#BDC1C6"/>
        </svg>
        <span>Member only</span>
      </li>
      <li class="about__details-item">
        <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M8.5 1.25C8.91421 1.25 9.25 1.58579 9.25 2V5C9.25 5.41421 8.91421 5.75 8.5 5.75C8.08579 5.75 7.75 5.41421 7.75 5V2C7.75 1.58579 8.08579 1.25 8.5 1.25Z" fill="#E6EAEE"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 1.25C16.9142 1.25 17.25 1.58579 17.25 2V5C17.25 5.41421 16.9142 5.75 16.5 5.75C16.0858 5.75 15.75 5.41421 15.75 5V2C15.75 1.58579 16.0858 1.25 16.5 1.25Z" fill="#E6EAEE"/>
          <path opacity="0.4" d="M22 8.37V17.13C22 17.29 21.99 17.45 21.98 17.6H3.02C3.01 17.45 3 17.29 3 17.13V8.37C3 5.68 5.18 3.5 7.87 3.5H17.13C19.82 3.5 22 5.68 22 8.37Z" fill="#E6EAEE"/>
          <path d="M21.9795 17.6C21.7395 20.07 19.6595 22 17.1295 22H7.86953C5.33953 22 3.25953 20.07 3.01953 17.6H21.9795Z" fill="#E6EAEE"/>
          <path d="M14.03 11.62C14.48 11.31 14.76 10.85 14.76 10.23C14.76 8.93001 13.72 8.26001 12.5 8.26001C11.28 8.26001 10.23 8.93001 10.23 10.23C10.23 10.85 10.52 11.32 10.96 11.62C10.35 11.98 10 12.56 10 13.24C10 14.48 10.95 15.25 12.5 15.25C14.04 15.25 15 14.48 15 13.24C15 12.56 14.65 11.97 14.03 11.62ZM12.5 9.50001C13.02 9.50001 13.4 9.79001 13.4 10.29C13.4 10.78 13.02 11.09 12.5 11.09C11.98 11.09 11.6 10.78 11.6 10.29C11.6 9.79001 11.98 9.50001 12.5 9.50001ZM12.5 14C11.84 14 11.36 13.67 11.36 13.07C11.36 12.47 11.84 12.15 12.5 12.15C13.16 12.15 13.64 12.48 13.64 13.07C13.64 13.67 13.16 14 12.5 14Z" fill="#E6EAEE"/>
        </svg>
        <span>Member since {{ date }}</span>
      </li>
      <li v-if="profile?.location" class="about__details-item">
        <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.4" d="M21.1201 8.45C20.0701 3.83 16.0401 1.75 12.5001 1.75C12.5001 1.75 12.5001 1.75 12.4901 1.75C8.9601 1.75 4.9201 3.82 3.8701 8.44C2.7001 13.6 5.8601 17.97 8.7201 20.72C9.7801 21.74 11.1401 22.25 12.5001 22.25C13.8601 22.25 15.2201 21.74 16.2701 20.72C19.1301 17.97 22.2901 13.61 21.1201 8.45Z" fill="#E6EAEE"/>
          <path d="M12.4996 13.46C14.2393 13.46 15.6496 12.0497 15.6496 10.31C15.6496 8.57034 14.2393 7.16003 12.4996 7.16003C10.7599 7.16003 9.34961 8.57034 9.34961 10.31C9.34961 12.0497 10.7599 13.46 12.4996 13.46Z" fill="#E6EAEE"/>
        </svg>
        <span>{{ profile.location }}</span>
      </li>
    </ul>
  </div>
</template>
<style>
.about {
  padding-block: 42px;
  display: grid;
  gap: 42px;
}
.about__section {
  display: grid;
  gap: 24px;
}
.about__title {
  font-weight: 500;
}
.about__paragraph {
  color: var(--text-color-secondary);
  width: min(780px, 100%);
}
.about__list {
  display: flex;
  align-items: center;
  gap: 40px;
}
.about__list-item {
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 500;
}
.about__list-text {
  color: var(--text-color-secondary);
  opacity: 0.4;
  margin-left: 2px;
}
.about__details {
  padding: 24px 32px;
  background-color: var(--bg-color-secondary);
  display: flex;
  align-items: center;
  gap: 32px;
  border-radius: 12px;
}
.about__details-item {
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 500;
}
</style>
